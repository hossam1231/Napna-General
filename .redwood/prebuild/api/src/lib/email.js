import _Array$isArray from "@babel/runtime-corejs3/core-js/array/is-array";
import * as nodemailer from 'nodemailer';
export const sendEmail = async ({
  to,
  subject,
  text,
  html
}) => {
  console.log('Sending email to:', to);

  // create reusable transporter object using SendInBlue for SMTP
  const transporter = nodemailer.createTransport({
    host: 'smtp-relay.sendinblue.com',
    port: 587,
    secure: false,
    // true for 465, false for other ports
    auth: {
      user: process.env.EMAIL,
      pass: process.env.SEND_IN_BLUE_KEY
    }
  });

  // send mail with defined transport object
  const info = await transporter.sendMail({
    from: `"Superstore" <${process.env.EMAIL}>`,
    to: _Array$isArray(to) ? to : [to],
    // list of receivers
    subject,
    // Subject line
    text,
    // plain text body
    html // html body
  });

  return info;
};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJub2RlbWFpbGVyIiwic2VuZEVtYWlsIiwidG8iLCJzdWJqZWN0IiwidGV4dCIsImh0bWwiLCJjb25zb2xlIiwibG9nIiwidHJhbnNwb3J0ZXIiLCJjcmVhdGVUcmFuc3BvcnQiLCJob3N0IiwicG9ydCIsInNlY3VyZSIsImF1dGgiLCJ1c2VyIiwicHJvY2VzcyIsImVudiIsIkVNQUlMIiwicGFzcyIsIlNFTkRfSU5fQkxVRV9LRVkiLCJpbmZvIiwic2VuZE1haWwiLCJmcm9tIl0sInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vYXBpL3NyYy9saWIvZW1haWwuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICogYXMgbm9kZW1haWxlciBmcm9tICdub2RlbWFpbGVyJ1xuXG5leHBvcnQgY29uc3Qgc2VuZEVtYWlsID0gYXN5bmMgKHsgdG8sIHN1YmplY3QsIHRleHQsIGh0bWwgfSkgPT4ge1xuICBjb25zb2xlLmxvZygnU2VuZGluZyBlbWFpbCB0bzonLCB0bylcblxuICAvLyBjcmVhdGUgcmV1c2FibGUgdHJhbnNwb3J0ZXIgb2JqZWN0IHVzaW5nIFNlbmRJbkJsdWUgZm9yIFNNVFBcbiAgY29uc3QgdHJhbnNwb3J0ZXIgPSBub2RlbWFpbGVyLmNyZWF0ZVRyYW5zcG9ydCh7XG4gICAgaG9zdDogJ3NtdHAtcmVsYXkuc2VuZGluYmx1ZS5jb20nLFxuICAgIHBvcnQ6IDU4NyxcbiAgICBzZWN1cmU6IGZhbHNlLCAvLyB0cnVlIGZvciA0NjUsIGZhbHNlIGZvciBvdGhlciBwb3J0c1xuICAgIGF1dGg6IHtcbiAgICAgIHVzZXI6IHByb2Nlc3MuZW52LkVNQUlMLFxuICAgICAgcGFzczogcHJvY2Vzcy5lbnYuU0VORF9JTl9CTFVFX0tFWSxcbiAgICB9LFxuICB9KVxuXG4gIC8vIHNlbmQgbWFpbCB3aXRoIGRlZmluZWQgdHJhbnNwb3J0IG9iamVjdFxuICBjb25zdCBpbmZvID0gYXdhaXQgdHJhbnNwb3J0ZXIuc2VuZE1haWwoe1xuICAgIGZyb206IGBcIlN1cGVyc3RvcmVcIiA8JHtwcm9jZXNzLmVudi5FTUFJTH0+YCxcbiAgICB0bzogQXJyYXkuaXNBcnJheSh0bykgPyB0byA6IFt0b10sIC8vIGxpc3Qgb2YgcmVjZWl2ZXJzXG4gICAgc3ViamVjdCwgLy8gU3ViamVjdCBsaW5lXG4gICAgdGV4dCwgLy8gcGxhaW4gdGV4dCBib2R5XG4gICAgaHRtbCwgLy8gaHRtbCBib2R5XG4gIH0pXG5cbiAgcmV0dXJuIGluZm9cbn1cbiJdLCJtYXBwaW5ncyI6IjtBQUFBLE9BQU8sS0FBS0EsVUFBVSxNQUFNLFlBQVk7QUFFeEMsT0FBTyxNQUFNQyxTQUFTLEdBQUcsT0FBTztFQUFFQyxFQUFFO0VBQUVDLE9BQU87RUFBRUMsSUFBSTtFQUFFQztBQUFLLENBQUMsS0FBSztFQUM5REMsT0FBTyxDQUFDQyxHQUFHLENBQUMsbUJBQW1CLEVBQUVMLEVBQUUsQ0FBQzs7RUFFcEM7RUFDQSxNQUFNTSxXQUFXLEdBQUdSLFVBQVUsQ0FBQ1MsZUFBZSxDQUFDO0lBQzdDQyxJQUFJLEVBQUUsMkJBQTJCO0lBQ2pDQyxJQUFJLEVBQUUsR0FBRztJQUNUQyxNQUFNLEVBQUUsS0FBSztJQUFFO0lBQ2ZDLElBQUksRUFBRTtNQUNKQyxJQUFJLEVBQUVDLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDQyxLQUFLO01BQ3ZCQyxJQUFJLEVBQUVILE9BQU8sQ0FBQ0MsR0FBRyxDQUFDRztJQUNwQjtFQUNGLENBQUMsQ0FBQzs7RUFFRjtFQUNBLE1BQU1DLElBQUksR0FBRyxNQUFNWixXQUFXLENBQUNhLFFBQVEsQ0FBQztJQUN0Q0MsSUFBSSxFQUFHLGlCQUFnQlAsT0FBTyxDQUFDQyxHQUFHLENBQUNDLEtBQU0sR0FBRTtJQUMzQ2YsRUFBRSxFQUFFLGVBQWNBLEVBQUUsQ0FBQyxHQUFHQSxFQUFFLEdBQUcsQ0FBQ0EsRUFBRSxDQUFDO0lBQUU7SUFDbkNDLE9BQU87SUFBRTtJQUNUQyxJQUFJO0lBQUU7SUFDTkMsSUFBSSxDQUFFO0VBQ1IsQ0FBQyxDQUFDOztFQUVGLE9BQU9lLElBQUk7QUFDYixDQUFDIn0=
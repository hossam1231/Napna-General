{
  "version": 3,
  "sources": ["../../../src/services/products/products.js"],
  "sourcesContent": ["import { stripe } from 'src/lib/stripe'\n\nexport const products = async ({ type = 'one_time' }) => {\n  // Get a list of active products\n  const products = await stripe.products.list({\n    active: true,\n  })\n\n  const itemList = []\n  for (const product of products.data) {\n    // Get a list of prices relating to product\n    const prices = await stripe.prices.list({\n      type: type,\n      product: product.id,\n    })\n\n    const price = prices.data[0]\n\n    // ignore prices with the \"wrong\" type\n    if (typeof price !== 'undefined') {\n      itemList.push({\n        id: price.id,\n        name: product.name,\n        description: product.description,\n        image: product.images[0],\n        price: price.unit_amount,\n        type: price.type,\n      })\n    }\n  }\n\n  return itemList\n}\n"],
  "mappings": ";;;;;;;;;;;;;;;;;AAAA;;;;;oBAAe;AAER,MAAMA,WAAW,OAAO;EAAEC,OAAO;AAAW,MAAM;AAEvD,QAAMD,YAAW,MAAME,qBAAOF,SAASG,KAAK;IAC1CC,QAAQ;EACV,CAAC;AAED,QAAMC,WAAW,CAAA;AACjB,aAAWC,WAAWN,UAASO,MAAM;AAEnC,UAAMC,SAAS,MAAMN,qBAAOM,OAAOL,KAAK;MACtCF;MACAK,SAASA,QAAQG;IACnB,CAAC;AAED,UAAMC,QAAQF,OAAOD,KAAK;AAG1B,QAAI,OAAOG,UAAU,aAAa;AAChCL,eAASM,KAAK;QACZF,IAAIC,MAAMD;QACVG,MAAMN,QAAQM;QACdC,aAAaP,QAAQO;QACrBC,OAAOR,QAAQS,OAAO;QACtBL,OAAOA,MAAMM;QACbf,MAAMS,MAAMT;MACd,CAAC;IACH;EACF;AAEA,SAAOI;AACT;",
  "names": ["products", "type", "stripe", "list", "active", "itemList", "product", "data", "prices", "id", "price", "push", "name", "description", "image", "images", "unit_amount"]
}
